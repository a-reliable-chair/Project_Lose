[
    {
        "name": "HouseAlpin",
        "trigger": null,
        "level_nid": null,
        "condition": "True",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "transition;Close",
            "if;unit.nid == 'Alpin'",
            "    change_background;House",
            "    transition;Open",
            "    add_portrait;LaisrenMom;Left",
            "    wait;250",
            "    add_portrait;Alpin;OffscreenRight",
            "    move_portrait;Alpin;Right",
            "    s;Alpin;Mom!{w} Dad!{w} I'm home, I'm home!",
            "    bop_portrait;LaisrenMom",
            "    s;LaisrenMom;Alpin!?{w} Oh, by the goddess, you're alive!{w} I can hardly believe it!",
            "    s;Alpin;What are you still doing here!?|A-and where's dad!?{w} Is he...?",
            "    s;LaisrenMom;I...{w} I don't know.{w} He left to help fight the empire off.{w}{clear}He hasn't come back yet.{w} He...{w} he still needs to come back.",
            "    s;Alpin;...{w} Right.{w} R-right.{w} He'll be back soon.{w} We'll all make it out!{w}{clear}And then we can go find Laisren, and we'll be completely-!",
            "    s;LaisrenMom;Laisren...{w} Goddess, Laisren!{w} You wouldn't have known, would you?",
            "    s;Alpin;Eh?",
            "    s;LaisrenMom;Laisren was here!{w} When the attack began he was here, waiting for you!",
            "    s;Alpin;But then...{w} where is he now?",
            "    s;LaisrenMom;He went to go get reinforcements!|He's going to save us all, he is!",
            "    s;Alpin;Laisren...{w} I-I never got to practice with him again...{w}{clear}I hope he made it out okay...",
            "    s;LaisrenMom;Of course he did, dear.{w} He...|he has to be okay.{w} He IS okay.{w}{clear}I have to give him back his gift, after all.{w} Don't I...?",
            "    s;Alpin;His weapon?",
            "    s;LaisrenMom;Yes.{w} Yes!{w} He left me a weapon, to fight back if they found me.",
            "    bop_portrait;Alpin",
            "    s;Alpin;...{w} Hey, isn't this the one you said he forgot here when he left?",
            "    s;LaisrenMom;N-no, he...{w} it's his gift.",
            "    s;Alpin;Mom...{w} are you okay?{w} You seem...|confused.{w} Do you need my help?",
            "    s;LaisrenMom;No, no, I...{w} I just...{w} need to give Laisren his weapon back...",
            "    expression;Alpin;HalfCloseEyes",
            "    s;Alpin;...",
            "    end_skip",
            "    transition;Close;1000;255, 255, 255",
            "    multi_remove_portrait;LaisrenMom;Alpin",
            "end",
            "# Flashback",
            "music;But A Memory",
            "change_background;House1Sepia",
            "multi_add_portrait;SLaisren;Right;SLaisrenMom;Left;SAlpin;OffscreenLeft",
            "transition;open;500;255, 255, 255",
            "s;SLaisrenMom;Oh, but this is just such a wonderful day, isn't it?{w}{clear}Our beautiful son, leaving for the knighthood!{w} O, Goddess!{w}{clear}Thank you for blessing us with this boon!{w} Thank you!",
            "s;SLaisren;...",
            "s;SLaisrenMom;Is...{w} is something the matter?|Aren't you excited, Laisren?",
            "s;SLaisren;I'm worried about Alpin, but he'll be okay.{w} I'll be okay.|It's just...{w} a weird feeling.",
            "s;SLaisrenMom;Oh, that's normal.{w} Big changes are scary, even the good ones.{w}{clear}You're a wonderful boy, Laisren{semicolon}{w} I'm sure you'll be fine without your dad and I to dote on you.",
            "s;SLaisren;...{w} Yeah.{w} I'm sure I will.",
            "s;SLaisrenMom;But that reminds me!{w} I've got something for you!{w} Wait there!",
            "mirror_portrait;SLaisrenMom",
            "wait;250",
            "move_portrait;SLaisrenMom;FarLeft",
            "s;SLaisren;W-what?{w} Mom, what are you...?",
            "bop_portrait;SLaisrenMom",
            "s;SLaisrenMom;Aha!{w} Here it is!",
            "mirror_portrait;SLaisrenMom",
            "wait;250",
            "move_portrait;SLaisrenMom;MidRight",
            "s;SLaisren;A weapon...?",
            "move_portrait;SLaisrenMom;Left",
            "s;SLaisrenMom;We always knew you'd grow up to be a great warrior one of these days.{w}{clear}Corridon forged this for you!|For the day you finally outgrew us.",
            "s;SLaisren;...",
            "s;SLaisrenMom;Think of it as a memory of your parents, to accompany you in battle!",
            "s;SLaisren;My parents...?{w} Mom...",
            "s;SLaisrenMom;... What's wrong?{w} You look sad.",
            "s;SLaisren;I don't want this.{w} Keep it.{w} Sell it.{w} Give it to Alpin.|Whatever you want.{w}{clear}But...{w} I'm not taking it with me.",
            "s;SLaisrenMom;What? But I...{w} I don't understand!",
            "expression;SLaisren;HalfCloseEyes",
            "s;SLaisren;...{w} A memory of our parents. What a joke.{w} You're no mother of mine.{w}{clear}Not anymore.{w} Not after what you did.{w}{clear}Alpin and father...{w} they share no blood.{w} I'm right, aren't I?",
            "expression;SLaisrenMom;CloseEyes",
            "s;SLaisrenMom;...",
            "s;SLaisren;Just admit it.{w} Admit it!{w} I'm leaving anyway, so what good does it do you?{w}{clear}Keep secrets just for the sake of keeping them...{w} it makes me sick.",
            "expression;SLaisrenMom;OpenEyes",
            "s;SLaisrenMom;Laisren, please, you're not making any sense!",
            "s;SLaisren;...{w} Whatever.{w} Keep your secrets, and your trinket to boot.{w} Just...|don't expect me to be grateful.",
            "s;SLaisrenMom;...",
            "s;SLaisren;...",
            "move_portrait;SAlpin;MidLeft",
            "move_portrait;SLaisrenMom;FarLeft;immediate",
            "s;SAlpin;Laisren?{w}{c:expression;SLaisren;OpenEyes} Laisren!{w} There you are!|You're leaving soon, aren't you?",
            "s;SLaisren;Ah!{w} Y-yeah...{w} I'll be gone soon.|{c:expression;SLaisren;Smile}But I've still got some time left!",
            "{c:expression;SAlpin;Smile}",
            "s;SAlpin;You do!?{w} Then...{w} then we gotta do something!{w} What if we spar!?{w}{clear}You could show me all your knight tricks, and I can show you mine!",
            "s;SLaisren;Heh, you've got tricks I don't already know?{w} That's news to me!",
            "s;SAlpin;Don't underestimate me!{w} It won't be long before I'm a knight too!{w}{clear}Then you'll see what I can really do!{w} So...?{w} Can we...?",
            "s;SLaisren;Sure, sure.{w} Go on, get our stuff out and I'll come catch up, yeah?",
            "s;SAlpin;Yes!!!{w} Okay, okay, I'll be right back!{w} And don't go easy on me!!",
            "s;SLaisren;Heh...{w} I won't, kid.{w} I won't.",
            "move_portrait;SAlpin;OffscreenRight",
            "move_portrait;SLaisrenMom;Left",
            "s;SLaisrenMom;...",
            "expression;SLaisren;NoSmile",
            "s;SLaisren;...{w} Toss me that thing.{w} I'm gonna give it to Alpin.{w} Okay?",
            "s;SLaisrenMom;To Alpin?{w} B-but I...|...{w} Alright.",
            "s;SLaisren;Be good to him while I'm gone.|He deserves better than I got.",
            "s;SLaisrenMom;...{w} Of course.",
            "s;SLaisren;Thanks.{w} And...{w} see you, Mom.",
            "transition;Close;1000;255, 255, 255",
            "multi_remove_portrait;SAlpin;SLaisren;SLaisrenMom",
            "if;unit.nid == 'Alpin'",
            "    change_background;House",
            "    ",
            "    end_skip",
            "    multi_add_portrait;Alpin;Right;LaisrenMom;Left",
            "    expression;Alpin;HalfCloseEyes",
            "    transition;open;500;255, 255, 255",
            "    s;Alpin;You said he forgot it here, but...|He gave it to me as a gift.{w}{clear}So...{w} how could he have forgotten it if it was meant for me...?",
            "    s;LaisrenMom;...{w} No...{w} No, it's his.|He's going to come back for it.",
            "    s;Alpin;Mom, I don't think...{w} Look.|I can take it right to him.|We can go find him together.{w}{clear}So come on.{w} We have to get out of here.{w} We're gonna-",
            "    s;LaisrenMom;I can't!{w} I...{w} I have to stay here for him.{w} To help him!{w}{clear}If he returns home and I'm not there, he could...{w} he...{w}{clear}A-and your father, too!{w} I have to wait here for them.{w}{clear}Yes...{w} I have to wait...",
            "    expression;Alpin;CloseEyes",
            "    s;Alpin;Mom...",
            "    s;LaisrenMom;Take it.{w} Please.{w} We'll bring everyone together, I know it.{w}{clear}If anyone can do it, it's you.",
            "    expression;Alpin;OpenEyes",
            "    s;Alpin;I-I...{w} Okay, mom.{w} I'll do it.|A-and I'll come back for you, and then w-we can...{w} we...",
            "    ",
            "    transition;close",
            "    multi_remove_portrait;Alpin;LaisrenMom",
            "    change_background",
            "    music_fade_back",
            "    transition;Open",
            "    ",
            "    end_skip",
            "    give_item;Alpin;PartingGift",
            "    ",
            "    if;game.mode.nid != 'Normal'",
            "        remove_item_component;Alpin;PartingGift;uses",
            "        add_item_component;Alpin;PartingGift;uses;8",
            "    end",
            "    ",
            "    if;'{v:PlayerReverse}' == 'Reversal'",
            "        add_item_component;Alpin;PartingGift;weapon_type;'Lance'",
            "        add_item_component;Alpin;PartingGift;map_cast_anim;'Map_Lance_Cast'",
            "    elif;'{v:PlayerReverse}' == 'Double'",
            "        add_item_component;Alpin;PartingGift;weapon_type;'Axe'",
            "        add_item_component;Alpin;PartingGift;map_cast_anim;'Map_Axe_Cast'",
            "    else",
            "        add_item_component;Alpin;PartingGift;weapon_type;'Sword'",
            "        add_item_component;Alpin;PartingGift;map_cast_anim;'Map_Sword_Cast'",
            "    end",
            "    ",
            "    if;'{v:ReverseRecruitment}' == 'No'",
            "        inc_game_var;AlpinVisited;1",
            "    end",
            "    ",
            "    give_exp;Alpin;40",
            "elif;unit.nid == 'Laisren'",
            "    change_background",
            "    music_fade_back",
            "    transition;Open",
            "    give_item;Laisren;PartingGift",
            "    ",
            "    if;game.mode.nid != 'Normal'",
            "        remove_item_component;Laisren;PartingGift;uses",
            "        add_item_component;Laisren;PartingGift;uses;8",
            "    end",
            "    ",
            "    if;'{v:PlayerReverse}' == 'Reversal'",
            "        add_item_component;Laisren;PartingGift;weapon_type;'Lance'",
            "        add_item_component;Laisren;PartingGift;map_cast_anim;'Map_Lance_Cast'",
            "    elif;'{v:PlayerReverse}' == 'Double'",
            "        add_item_component;Laisren;PartingGift;weapon_type;'Axe'",
            "        add_item_component;Laisren;PartingGift;map_cast_anim;'Map_Axe_Cast'",
            "    else",
            "        add_item_component;Laisren;PartingGift;weapon_type;'Sword'",
            "        add_item_component;Laisren;PartingGift;map_cast_anim;'Map_Sword_Cast'",
            "    end",
            "    ",
            "    give_exp;Laisren;40",
            "end",
            "",
            "if;not has_achievement('8')",
            "    update_achievement;8;Brothers in Arms;Viewed Alpin and Laisren's Flashback in Ch4.",
            "    complete_achievement;8;1;banner",
            "end"
        ]
    }
]