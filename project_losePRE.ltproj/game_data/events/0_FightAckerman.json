[
    {
        "name": "FightAckerman",
        "trigger": "combat_start",
        "level_nid": "0",
        "condition": "unit.nid == \"Ackerman\" or unit2.nid == \"Ackerman\"",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "if;{v:BossMusic} == 0",
            "    music;With Everything At Stake",
            "    change_music;player_phase;With Everything At Stake",
            "    change_music;enemy_phase;With Everything At Stake",
            "    change_music;other_phase;With Everything At Stake",
            "    change_music;enemy2_phase;With Everything At Stake",
            "    set_custom_options;Codex,Achievements;true,true;Open the Codex.,Check Achievements.;Menu_Codex,CallAchievements",
            "    inc_level_var;BossMusic;1",
            "end",
            "",
            "if;unit.nid == \"Elwynn\" or unit2.nid == \"Elwynn\"",
            "    if;{v:AckermanElwynn} == 0",
            "        hide_combat_ui",
            "        add_portrait;Ackerman;LeftCorner",
            "        speak;Ackerman;Buncha kids with playswords n' a washed up geezer...{w}{br}Yer some kinda babysitter, then, aye?;center;;boss_convo_left",
            "        remove_portrait;Ackerman",
            "        add_portrait;Elwynn;RightCorner",
            "        s;Elwynn;I'm a monk.{w}{br}And our teachings say that murder is a sin punishable only by death.;center;;boss_convo_right",
            "        remove_portrait;Elwynn",
            "        add_portrait;Ackerman;LeftCorner",
            "        s;Ackerman;That so? Well, come on, then!{w}{br}Just try n' punish me! I'm unstoppable!;center;;boss_convo_left",
            "        remove_portrait;Ackerman",
            "        show_combat_ui",
            "        inc_level_var;AckermanElwynn;1",
            "    end",
            "else",
            "    if;{v:AckermanOther} == 0",
            "        hide_combat_ui",
            "        add_portrait;Ackerman;LeftCorner",
            "        s;Ackerman;Hah! They got children fightin' their wars, now?{w}{br}Yer kiddin' me... Ah, hell, at least it'll be an easy fight!;center;;boss_convo_left",
            "        remove_portrait;Ackerman",
            "        show_combat_ui",
            "        inc_level_var;AckermanOther;1",
            "    end",
            "end",
            "if;unit.nid == \"Raelin\" or unit2.nid == \"Raelin\"",
            "    if;{v:RaelinVisited} == 1 and {v:RaelinAckerman} == 0",
            "        inc_level_var;RaelinAckerman;1",
            "    end",
            "end"
        ]
    }
]