[
    {
        "name": "Intro",
        "trigger": "level_start",
        "level_nid": "0",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "level_var;DeadPlayers;0",
            "# The School",
            "music;Another Slow Day",
            "change_tilemap;School",
            "if;'{v:ReverseRecruitment}' == 'Yes'",
            "    give_skill;Laisren;AspiringLeader;no_banner",
            "    add_unit;Elspeth;10, 1;immediate",
            "    add_unit;Elwynn;8, 1;immediate",
            "    add_unit;Laisren;11, 3;immediate",
            "    add_unit;Corridon;12, 4;immediate",
            "    add_unit;Orla;10, 4;immediate",
            "    add_unit;Ailsa;9, 3;immediate",
            "    add_unit;Kid_5;8, 4;immediate",
            "    transition;open;500",
            "    # Elspeth, Elwynn, & 5 kids in school (one of them is a rando)",
            "    # Laisren is caught sleeping by Elspeth; complains he wants to do combat training; but that's for this afternoon",
            "    # Today's lesson is about [TOWN HERE] from a long time ago that saved the town from [SOME BAD GUY] using a holy relic of [GODDESS]; said holy relic is still in the town's church.",
            "    wait;250",
            "    multi_add_portrait;Ailsa;FarLeft;Orla;MidLeft;Laisren;MidRight;Corridon;FarRight",
            "    speak;Laisren;Filler",
            "    speak;Ailsa;Filler?",
            "    speak;Orla;Filler!",
            "    speak;Corridon;Filler...",
            "    remove_portrait;Ailsa",
            "    add_portrait;Elwynn;FarLeft",
            "    speak;Elwynn;Filler...",
            "    multi_remove_portrait;Elwynn;Orla;Laisren;Corridon",
            "    wait;250",
            "    move_unit;Elwynn;7, 7;normal;push;120",
            "    wait;250",
            "    sound;Unlock;1",
            "    show_layer;Mid",
            "    wait;250",
            "    move_unit;Elwynn;7, 9;normal;push;120",
            "    remove_unit;Elwynn;fade;south",
            "    transition;close;1000",
            "    remove_unit;Elspeth;immediate",
            "    remove_unit;Laisren;immediate",
            "    remove_unit;Corridon;immediate",
            "    remove_unit;Orla;immediate",
            "    remove_unit;Ailsa;immediate",
            "    remove_unit;Kid_5;immediate",
            "    transition;open;1;0, 0, 0",
            "    end_skip",
            "    # The Plaza",
            "    change_tilemap;Ch2",
            "    show_layer;Boxes",
            "    move_cursor;0, 13;immediate",
            "    add_unit;Lamonte;4, 0;immediate;push",
            "    transition;open;500",
            "    add_unit;Garvey;0, 13;fade;push;west",
            "    move_unit;Lamonte;4, 11;normal;push;120;no_block;no_follow",
            "    move_unit;Garvey;3, 11;normal;giveup;120;no_follow",
            "    wait;250",
            "    multi_add_portrait;Garvey;Left;Lamonte;Right",
            "    # Garvey and Lamonte meet up and talk about whatever",
            "    speak;Garvey;Filler!?",
            "    speak;Lamonte;Filler!!",
            "    multi_remove_portrait;Garvey;Lamonte",
            "    wait;250",
            "    move_unit;Garvey;14, 3;normal;no_block",
            "    move_unit;Lamonte;18, 3;normal",
            "    wait;250",
            "    sound;Unlock",
            "    show_layer;TopLeft",
            "    wait;250",
            "    sound;Unlock",
            "    show_layer;TopRight",
            "    wait;250",
            "    move_unit;Garvey;14, 2;normal",
            "    wait;250",
            "    move_unit;Lamonte;18, 2;normal",
            "    wait;250",
            "    remove_unit;Lamonte;immediate",
            "    wait;250",
            "    remove_unit;Garvey;immediate",
            "    wait;250",
            "    sound;Unlock",
            "    hide_layer;TopLeft",
            "    wait;250",
            "    sound;Unlock",
            "    hide_layer;TopRight",
            "    wait;250",
            "    move_cursor;0,0;120",
            "    # Elwynn makes her way to the church",
            "    add_unit;Elwynn;3,0;fade;push;north",
            "    move_unit;Elwynn;11, 13;normal",
            "    wait;250",
            "    sound;Unlock",
            "    show_layer;Mid",
            "    move_unit;Elwynn;11, 12;normal",
            "    wait;250",
            "    remove_unit;Elwynn;immediate",
            "    wait;250",
            "    sound;Unlock",
            "    hide_layer;Mid",
            "    wait;250",
            "    # Leod Saraid and Quinley pass by the church; Leod's on his way to a meeting",
            "    add_unit;Leod;9, 17;fade;push;south",
            "    add_unit;Saraid;8,17;fade;push;south",
            "    add_unit;Quinley;9, 17;fade;push;south",
            "    move_unit;Leod;19, 9;normal;push;120;no_block",
            "    move_unit;Saraid;19, 10;normal;push;120;no_block",
            "    move_unit;Quinley;18, 9;normal;push;120",
            "    wait;500",
            "    remove_unit;Leod;fade;east",
            "    remove_unit;Saraid;fade;east",
            "    move_unit;Quinley;19, 9;normal;push;120",
            "    remove_unit;Quinley;fade;east",
            "    end_skip",
            "    # Alleyway",
            "    change_tilemap;Alleyway",
            "    transition;open;500",
            "    add_unit;Leod;0, 5;fade;push;west",
            "    add_unit;Saraid;0,6;fade;push;south",
            "    add_unit;Quinley;0, 5;fade;push;south",
            "    move_unit;Leod;5, 4;normal;push;120;no_block",
            "    move_unit;Saraid;4, 5;normal;push;120;no_block",
            "    move_unit;Quinley;6, 5;normal;push;120",
            "    add_portrait;Leod;Right",
            "    # About to enter the building for his meeting, Leod bitches about the stack of crates they passed by (epic foreshadowing)",
            "    speak;Leod;Filler.",
            "    remove_portrait;Leod",
            "    sound;Unlock",
            "    show_layer;Door",
            "    wait;250",
            "    move_unit;Leod;5, 3;normal;no_block",
            "    move_unit;Quinley;6, 4;normal",
            "    move_unit;Saraid;4, 4;normal",
            "    remove_unit;Leod;immediate",
            "    wait;250",
            "    add_portrait;Saraid;Left",
            "    # Leod goes inside and Saraid immediately starts backbiting him.",
            "    speak;Saraid;...Filler",
            "    remove_portrait;Saraid",
            "    add_unit;Leod;5, 3;immediate",
            "    wait;250",
            "    add_portrait;Leod;Right",
            "    # Leod comes back out and calls him out on it; then goes back in.",
            "    speak;Leod;Filler!",
            "    remove_portrait;Leod",
            "    wait;250",
            "    remove_unit;Leod;immediate",
            "    wait;250",
            "    multi_add_portrait;Saraid;Left;Quinley;Right",
            "    # Saraid goes back to bitching about Leod to Quinley (who's not really jamming with it)",
            "    speak;Quinley;Filler?",
            "    speak;Saraid;Filler.",
            "    multi_remove_portrait;Saraid;Quinley",
            "    wait;250",
            "    add_unit;Leod;5, 3;immediate",
            "    wait;250",
            "    multi_add_portrait;Leod;Right;Saraid;FarLeft;Quinley;MidLeft",
            "    # Leod finishes his meeting and tells the two [BAD NEWS FOR TOWN BUT HE GAINS MORE WEALTH]",
            "    speak;Leod;Filler.",
            "    multi_remove_portrait;Leod;Saraid;Quinley",
            "    wait;250",
            "    move_unit;Leod;7, 9;normal;push;120;no_block",
            "    move_unit;Saraid;8, 9;normal;push;120;no_block",
            "    move_unit;Quinley;7, 8;normal;push;120",
            "    remove_unit;Leod;fade;south",
            "    remove_unit;Saraid;fade;south",
            "    move_unit;Quinley;7, 9;normal;push;120",
            "    remove_unit;Quinley;fade;south",
            "    end_skip",
            "    # Market / Pier",
            "    transition;close;500",
            "    change_tilemap;Ch4",
            "    add_unit;Raelin;11, 23;fade",
            "    move_cursor;18, 25;immediate",
            "    transition;open;500",
            "    add_unit;Shayla;0, 21;fade;push;west",
            "    move_unit;Shayla;11, 21;normal;stack;120;no_block;no_follow",
            "    add_unit;Carlin;15, 21;immediate",
            "    move_unit;Carlin;12, 22;normal;stack",
            "    wait;250",
            "    multi_add_portrait;Shayla;Left;Raelin;MidRight;Carlin;FarRight",
            "    # Filler, every day talk between the 3.",
            "    speak;Shayla;Filler?",
            "    speak;Raelin;Filler.",
            "    speak;Carlin;Filler?!",
            "    multi_remove_portrait;Shayla;Raelin;Carlin",
            "    move_cursor;0,0;1000",
            "    add_unit;Alpin;5,0;fade;push;west",
            "    move_unit;Alpin;3,5;normal;push;120",
            "    wait;250",
            "    add_portrait;Alpin;Left",
            "    speak;Alpin;Filler.",
            "    remove_portrait;Alpin",
            "    wait;250",
            "    add_unit;Parent;3, 3;immediate",
            "    move_unit;Parent;2, 4;normal",
            "    wait;250",
            "    add_unit;Parent_1;3, 3;immediate",
            "    move_unit;Parent_1;4, 4;normal",
            "    wait;250",
            "    multi_add_portrait;Alpin;Left;Man1;MidRight;Woman1;FarRight",
            "    # Alpin arrives in town on leave from the military and meets his parents outside before going in.",
            "    speak;Alpin;Filler!",
            "    speak;Man1;Filler!",
            "    speak;Woman1;...",
            "    multi_remove_portrait;Alpin;Man1;Woman1",
            "    move_unit;Parent;3, 3;normal",
            "    wait;250",
            "    remove_unit;Parent",
            "    move_unit;Parent_1;3, 3;normal",
            "    wait;250",
            "    remove_unit;Parent_1",
            "    wait;250",
            "    move_unit;Alpin;3, 3",
            "    wait;250",
            "    remove_unit;Alpin",
            "    wait;250",
            "    transition;close;500",
            "    remove_all_units",
            "    transition;open;1;0, 0, 0",
            "    end_skip",
            "    # Still in market / pier",
            "    add_weather;sunset",
            "    location_card;A few hours later...",
            "    move_cursor;0, 25;500",
            "    wait;500",
            "    music;Hulking Step of the Empire",
            "    add_unit;Temp;0, 25;fade;push;south",
            "    add_unit;Temp_1;1, 25;fade;push;south",
            "    add_unit;Temp_2;2, 25;fade;push;south",
            "    move_unit;Temp;2, 24;normal;push;no_block;no_follow",
            "    move_unit;Temp_1;3, 23;normal;push;no_block;no_follow",
            "    move_unit;Temp_2;4, 22;normal;push;no_block;no_follow",
            "    add_unit;Davenport;0, 25;fade;push;south",
            "    add_unit;Cawthorne;1,25;fade;push;south",
            "    add_unit;Temp_3;2, 25;fade;push;south",
            "    move_unit;Temp_3;7, 22;normal;push;no_block;no_follow",
            "    move_unit;Davenport;6, 23;normal;push;no_block;no_follow",
            "    move_unit;Cawthorne;5, 23;normal;push;no_follow",
            "    wait;500",
            "    multi_add_portrait;Cawthorne;Left;Davenport;Right",
            "    # At sunset the enemy empire invades the town, there's a brief convo between Ch5 boss and Ch4 boss",
            "    speak;Cawthorne;[filler]",
            "    speak;Davenport;[Filler]",
            "    multi_remove_portrait;Cawthorne;Davenport",
            "    transition;close;500",
            "    remove_all_units",
            "    end_skip",
            "    # Plaza",
            "    change_tilemap;Ch2",
            "    add_weather;sunset",
            "    show_layer;Boxes",
            "    move_cursor;0, 13;immediate",
            "    transition;open;500",
            "    wait;250",
            "    add_unit;Brassfield;0, 13;fade;push;west",
            "    add_unit;Emberson;0, 12;fade;push;west",
            "    add_unit;Temp_7;0, 11;fade;push;west",
            "    add_unit;Temp_8;0, 13;fade;push;west",
            "    move_unit;Brassfield;6, 13;normal;push;no_block;no_follow",
            "    move_unit;Emberson;6, 12;normal;push;no_block;no_follow",
            "    move_unit;Temp_7;4, 11;normal;push;no_block;no_follow",
            "    move_unit;Temp_8;5, 12;normal;push;no_follow",
            "    wait;500",
            "    multi_add_portrait;Brassfield;Left;Emberson;Right",
            "    # Brief convo btween Ch 2 and Ch 3 bosses",
            "    speak;Emberson;[Filler]",
            "    speak;Brassfield;[Filler]",
            "    multi_remove_portrait;Brassfield;Emberson",
            "    transition;close;500",
            "    remove_all_units",
            "    end_skip",
            "    # Residential District",
            "    change_tilemap;Ch1",
            "    add_weather;sunset",
            "    move_cursor;10, 0;immediate",
            "    transition;open;500",
            "    add_unit;Temp_9;6, 0;fade;push;west",
            "    add_unit;Ackerman;7, 0;fade;push;west",
            "    add_unit;Temp_11;8, 0;fade;push;west",
            "    add_unit;Temp_12;9, 0;fade;push;west",
            "    move_unit;Temp_9;6, 2;normal;push;no_block;no_follow",
            "    move_unit;Ackerman;8, 2;normal;push;no_block;no_follow",
            "    move_unit;Temp_11;7, 3;normal;push;no_block;no_follow",
            "    move_unit;Temp_12;9, 3;normal;push;no_follow",
            "    wait;500",
            "    multi_add_portrait;Ackerman;Right;SoldierRed;Left",
            "    # Ch 1 boss talks to his mooks, ransack n whatnot",
            "    speak;Ackerman;[filler]",
            "    speak;SoldierRed;[filler]",
            "    multi_remove_portrait;Ackerman;SoldierRed",
            "    wait;250",
            "    move_unit;Ackerman;13, 11;normal;push;no_block;no_follow",
            "    move_unit;Temp_11;10, 10;normal;push;no_block;no_follow",
            "    move_unit;Temp_12;16, 5;normal;push;no_block;no_follow",
            "    move_unit;Temp_9;2, 1;normal;push",
            "    wait;250",
            "    flicker_cursor;2, 1",
            "    remove_unit;Temp_9;immediate",
            "    wait;250",
            "    transition;close;500",
            "    remove_all_units",
            "    end_skip",
            "    # School",
            "    change_tilemap;School",
            "    add_weather;sunset",
            "    show_layer;Mid",
            "    add_unit;Elspeth;10, 1;immediate",
            "    add_unit;Laisren;11, 3;immediate",
            "    add_unit;Corridon;12, 4;immediate",
            "    add_unit;Orla;10, 4;immediate",
            "    add_unit;Ailsa;9, 3;immediate",
            "    add_unit;Kid_5;8, 4;immediate",
            "    transition;open;500",
            "    multi_add_portrait;Elspeth;Right;Laisren;FarLeft;Corridon;MidLeft",
            "    # Back at the school we're finally at combat training so the kids have their weapons",
            "    # Enemy soldier shows up and murders the dumb kid named [whatever] who forgot to bring his weapon",
            "    # The 4 remaining students and their teacher leave the school and see their town is being raided",
            "    speak;Elspeth;Filler.",
            "    multi_remove_portrait;Elspeth;Laisren;Corridon",
            "    add_unit;Temp_9;7, 9;fade;push;south",
            "    move_unit;Temp_9;7, 4;normal;push;120",
            "    interact_unit;Temp_9;Kid_5;crit1,end;Junk;force_no_animation",
            "    add_portrait;SoldierRed;Left",
            "    speak;SoldierRed;FILLER!",
            "    remove_portrait;SoldierRed",
            "    wait;250",
            "    move_unit;Laisren;8, 4;normal;push;60",
            "    interact_unit;Laisren;Temp_9;crit1,end;force_no_animation",
            "    add_portrait;Laisren;Right",
            "    speak;Laisren;FILLER!?!?!",
            "    remove_portrait;Laisren",
            "    wait;250",
            "    move_unit;Laisren;7, 9;normal;stack;no_block",
            "    move_unit;Corridon;7, 9;normal;stack;no_block",
            "    move_unit;Orla;7, 9;normal;stack;no_block",
            "    move_unit;Ailsa;7, 9;normal;stack;no_block",
            "    move_unit;Elspeth;7, 9;normal;stack",
            "    remove_unit;Laisren;fade;south",
            "    remove_unit;Corridon;fade;south",
            "    remove_unit;Orla;fade;south",
            "    remove_unit;Ailsa;fade;south",
            "    remove_unit;Elspeth;fade;south",
            "    transition;close;250",
            "    remove_all_units",
            "    end_skip",
            "    # School",
            "    change_tilemap;Ch1",
            "    add_weather;sunset",
            "    add_group;Enemy1;Enemy1;immediate",
            "    # Add enemies",
            "    transition;open;250",
            "    add_unit;Elspeth;2, 1;fade;stack;north",
            "    add_unit;Laisren;2, 1;fade;stack;north",
            "    add_unit;Corridon;2, 1;fade;stack;north",
            "    add_unit;Orla;2, 1;fade;stack;north",
            "    add_unit;Ailsa;2, 1;fade;stack;north",
            "    sound;Unlock",
            "    show_layer;TopLeft",
            "    move_unit;Laisren;3, 3;normal;push;no_block",
            "    move_unit;Corridon;1, 3;normal;push;no_block",
            "    move_unit;Orla;2, 4;normal;push;no_block",
            "    move_unit;Ailsa;4, 2;normal;push;no_block",
            "    move_unit;Elspeth;2, 2;normal;push",
            "    add_portrait;Laisren;Left",
            "    # Hero Time :Sunglasses:",
            "    # And by that I mean the gang needs to GTFO.",
            "    # Orla, Corridon, and Ailsa mention they live close to the school.",
            "    speak;Laisren;Filler!",
            "    remove_portrait;Laisren",
            "    change_team;Laisren;player",
            "    change_team;Corridon;player",
            "    change_team;Orla;player",
            "    change_team;Ailsa;player",
            "    change_team;Elspeth;player",
            "    give_skill;Elspeth;Guidance;no_banner",
            "else",
            "    add_unit;Elwynn;10, 1;immediate",
            "    add_unit;Elspeth;8, 1;immediate",
            "    add_unit;Kid_1;11, 3;immediate",
            "    add_unit;Kid_2;12, 4;immediate",
            "    add_unit;Kid_3;10, 4;immediate",
            "    add_unit;Kid_4;9, 3;immediate",
            "    add_unit;Kid_5;8, 4;immediate",
            "    transition;open;500",
            "    # Elwynn, Elspeth, & 5 kids in school (one of them is a rando)",
            "    # Alpin is caught sleeping by Elwynn; complains he wants to do combat training; but that's for this afternoon",
            "    # Today's lesson is about [TOWN HERE] from a long time ago that saved the town from [SOME BAD GUY] using a holy relic of [GODDESS]; said holy relic is still in the town's church.",
            "    wait;250",
            "    multi_add_portrait;Raelin;FarLeft;Shayla;MidLeft;Alpin;MidRight;Carlin;FarRight",
            "    speak;Alpin;Filler",
            "    speak;Raelin;Filler?",
            "    speak;Shayla;Filler!",
            "    speak;Carlin;Filler...",
            "    remove_portrait;Raelin",
            "    add_portrait;Elspeth;FarLeft",
            "    speak;Elspeth;Filler...",
            "    multi_remove_portrait;Elspeth;Shayla;Alpin;Carlin",
            "    wait;250",
            "    move_unit;Elspeth;7, 7;normal;push;120",
            "    wait;250",
            "    sound;Unlock;1",
            "    show_layer;Mid",
            "    wait;250",
            "    move_unit;Elspeth;7, 9;normal;push;120",
            "    remove_unit;Elspeth;fade;south",
            "    transition;close;1000",
            "    remove_unit;Elwynn;immediate",
            "    remove_unit;Kid_1;immediate",
            "    remove_unit;Kid_2;immediate",
            "    remove_unit;Kid_3;immediate",
            "    remove_unit;Kid_4;immediate",
            "    remove_unit;Kid_5;immediate",
            "    transition;open;1;0, 0, 0",
            "    end_skip",
            "    # The Plaza",
            "    change_tilemap;Ch2",
            "    show_layer;Boxes",
            "    move_cursor;0, 13;immediate",
            "    add_unit;Quinley;4, 0;immediate;push",
            "    transition;open;500",
            "    add_unit;Saraid;0, 13;fade;push;west",
            "    move_unit;Quinley;4, 11;normal;push;120;no_block;no_follow",
            "    move_unit;Saraid;3, 11;normal;giveup;120;no_follow",
            "    wait;250",
            "    multi_add_portrait;Saraid;Left;Quinley;Right",
            "    # Saraid and Quinley meet up and talk about whatever",
            "    speak;Saraid;Filler!?",
            "    speak;Quinley;Filler!!",
            "    multi_remove_portrait;Saraid;Quinley",
            "    wait;250",
            "    move_unit;Saraid;14, 3;normal;no_block",
            "    move_unit;Quinley;18, 3;normal",
            "    wait;250",
            "    sound;Unlock",
            "    show_layer;TopLeft",
            "    wait;250",
            "    sound;Unlock",
            "    show_layer;TopRight",
            "    wait;250",
            "    move_unit;Saraid;14, 2;normal",
            "    wait;250",
            "    move_unit;Quinley;18, 2;normal",
            "    wait;250",
            "    remove_unit;Quinley;immediate",
            "    wait;250",
            "    remove_unit;Saraid;immediate",
            "    wait;250",
            "    sound;Unlock",
            "    hide_layer;TopLeft",
            "    wait;250",
            "    sound;Unlock",
            "    hide_layer;TopRight",
            "    wait;250",
            "    move_cursor;0,0;120",
            "    # Elspeth makes her way to the church",
            "    add_unit;Elspeth;3,0;fade;push;north",
            "    move_unit;Elspeth;11, 13;normal",
            "    wait;250",
            "    sound;Unlock",
            "    show_layer;Mid",
            "    move_unit;Elspeth;11, 12;normal",
            "    wait;250",
            "    remove_unit;Elspeth;immediate",
            "    wait;250",
            "    sound;Unlock",
            "    hide_layer;Mid",
            "    wait;250",
            "    # Leod Garvey and Lamonte pass by the church; Leod's on his way to a meeting",
            "    add_unit;Leod;9, 17;fade;push;south",
            "    add_unit;Garvey;8,17;fade;push;south",
            "    add_unit;Lamonte;9, 17;fade;push;south",
            "    move_unit;Leod;19, 9;normal;push;120;no_block",
            "    move_unit;Garvey;19, 10;normal;push;120;no_block",
            "    move_unit;Lamonte;18, 9;normal;push;120",
            "    wait;500",
            "    remove_unit;Leod;fade;east",
            "    remove_unit;Garvey;fade;east",
            "    move_unit;Lamonte;19, 9;normal;push;120",
            "    remove_unit;Lamonte;fade;east",
            "    end_skip",
            "    # Alleyway",
            "    change_tilemap;Alleyway",
            "    transition;open;500",
            "    add_unit;Leod;0, 5;fade;push;west",
            "    add_unit;Garvey;0,6;fade;push;south",
            "    add_unit;Lamonte;0, 5;fade;push;south",
            "    move_unit;Leod;5, 4;normal;push;120;no_block",
            "    move_unit;Garvey;4, 5;normal;push;120;no_block",
            "    move_unit;Lamonte;6, 5;normal;push;120",
            "    add_portrait;Leod;Right",
            "    # About to enter the building for his meeting, Leod bitches about the stack of crates they passed by (epic foreshadowing)",
            "    speak;Leod;Filler.",
            "    remove_portrait;Leod",
            "    sound;Unlock",
            "    show_layer;Door",
            "    wait;250",
            "    move_unit;Leod;5, 3;normal;no_block",
            "    move_unit;Lamonte;6, 4;normal",
            "    move_unit;Garvey;4, 4;normal",
            "    remove_unit;Leod;immediate",
            "    wait;250",
            "    add_portrait;Garvey;Left",
            "    # Leod goes inside and Garvey immediately starts backbiting him.",
            "    speak;Garvey;...Filler",
            "    remove_portrait;Garvey",
            "    add_unit;Leod;5, 3;immediate",
            "    wait;250",
            "    add_portrait;Leod;Right",
            "    # Leod comes back out and calls him out on it; then goes back in.",
            "    speak;Leod;Filler!",
            "    remove_portrait;Leod",
            "    wait;250",
            "    remove_unit;Leod;immediate",
            "    wait;250",
            "    multi_add_portrait;Garvey;Left;Lamonte;Right",
            "    # Garvey goes back to bitching about Leod to Lamonte (who's not really jamming with it)",
            "    speak;Lamonte;Filler?",
            "    speak;Garvey;Filler.",
            "    multi_remove_portrait;Garvey;Lamonte",
            "    wait;250",
            "    add_unit;Leod;5, 3;immediate",
            "    wait;250",
            "    multi_add_portrait;Leod;Right;Garvey;FarLeft;Lamonte;MidLeft",
            "    # Leod finishes his meeting and tells the two [BAD NEWS FOR TOWN BUT HE GAINS MORE WEALTH]",
            "    speak;Leod;Filler.",
            "    multi_remove_portrait;Leod;Garvey;Lamonte",
            "    wait;250",
            "    move_unit;Leod;7, 9;normal;push;120;no_block",
            "    move_unit;Garvey;8, 9;normal;push;120;no_block",
            "    move_unit;Lamonte;7, 8;normal;push;120",
            "    remove_unit;Leod;fade;south",
            "    remove_unit;Garvey;fade;south",
            "    move_unit;Lamonte;7, 9;normal;push;120",
            "    remove_unit;Lamonte;fade;south",
            "    end_skip",
            "    # Market / Pier",
            "    transition;close;500",
            "    change_tilemap;Ch4",
            "    add_unit;Ailsa;11, 23;fade",
            "    move_cursor;18, 25;immediate",
            "    transition;open;500",
            "    add_unit;Orla;0, 21;fade;push;west",
            "    move_unit;Orla;11, 21;normal;stack;120;no_block;no_follow",
            "    add_unit;Corridon;15, 21;immediate",
            "    move_unit;Corridon;12, 22;normal;stack",
            "    wait;250",
            "    multi_add_portrait;Orla;Left;Ailsa;MidRight;Corridon;FarRight",
            "    # Filler, every day talk between the 3.",
            "    speak;Orla;Filler?",
            "    speak;Ailsa;Filler.",
            "    speak;Corridon;Filler?!",
            "    multi_remove_portrait;Orla;Ailsa;Corridon",
            "    move_cursor;0,0;1000",
            "    add_unit;Laisren;5,0;fade;push;west",
            "    move_unit;Laisren;3,5;normal;push;120",
            "    wait;250",
            "    add_portrait;Laisren;Left",
            "    speak;Laisren;Filler.",
            "    remove_portrait;Laisren",
            "    wait;250",
            "    add_unit;Parent;3, 3;immediate",
            "    move_unit;Parent;2, 4;normal",
            "    wait;250",
            "    add_unit;Parent_1;3, 3;immediate",
            "    move_unit;Parent_1;4, 4;normal",
            "    wait;250",
            "    multi_add_portrait;Laisren;Left;Man1;MidRight;Woman1;FarRight",
            "    # Laisren arrives in town on leave from the military and meets his parents outside before going in.",
            "    speak;Laisren;Filler!",
            "    speak;Man1;Filler!",
            "    speak;Woman1;...",
            "    multi_remove_portrait;Laisren;Man1;Woman1",
            "    move_unit;Parent;3, 3;normal",
            "    wait;250",
            "    remove_unit;Parent",
            "    move_unit;Parent_1;3, 3;normal",
            "    wait;250",
            "    remove_unit;Parent_1",
            "    wait;250",
            "    sound;Neigh",
            "    add_unit;Horse_1;3, 5;immediate;stack",
            "    add_unit;Horse;3, 5;immediate;stack",
            "    remove_unit;Laisren",
            "    wait;250",
            "    move_unit;Horse_1;3, 3",
            "    wait;250",
            "    remove_unit;Horse_1",
            "    wait;250",
            "    transition;close;500",
            "    remove_all_units",
            "    transition;open;1;0, 0, 0",
            "    end_skip",
            "    # Still in market / pier",
            "    add_weather;sunset",
            "    location_card;A few hours later...",
            "    move_cursor;0, 25;500",
            "    wait;500",
            "    music;Hulking Step of the Empire",
            "    add_unit;Temp;0, 25;fade;push;south",
            "    add_unit;Temp_1;1, 25;fade;push;south",
            "    add_unit;Temp_2;2, 25;fade;push;south",
            "    move_unit;Temp;2, 24;normal;push;no_block;no_follow",
            "    move_unit;Temp_1;3, 23;normal;push;no_block;no_follow",
            "    move_unit;Temp_2;4, 22;normal;push;no_block;no_follow",
            "    add_unit;Davenport;0, 25;fade;push;south",
            "    add_unit;Cawthorne;1,25;fade;push;south",
            "    add_unit;Temp_3;2, 25;fade;push;south",
            "    move_unit;Temp_3;7, 22;normal;push;no_block;no_follow",
            "    move_unit;Davenport;6, 23;normal;push;no_block;no_follow",
            "    move_unit;Cawthorne;5, 23;normal;push;no_follow",
            "    wait;500",
            "    multi_add_portrait;Cawthorne;Left;Davenport;Right",
            "    # At sunset the enemy empire invades the town, there's a brief convo between Ch5 boss and Ch4 boss",
            "    speak;Cawthorne;[filler]",
            "    speak;Davenport;[Filler]",
            "    multi_remove_portrait;Cawthorne;Davenport",
            "    transition;close;500",
            "    remove_all_units",
            "    end_skip",
            "    # Plaza",
            "    change_tilemap;Ch2",
            "    add_weather;sunset",
            "    show_layer;Boxes",
            "    move_cursor;0, 13;immediate",
            "    transition;open;500",
            "    wait;250",
            "    add_unit;Brassfield;0, 13;fade;push;west",
            "    add_unit;Emberson;0, 12;fade;push;west",
            "    add_unit;Temp_7;0, 11;fade;push;west",
            "    add_unit;Temp_8;0, 13;fade;push;west",
            "    move_unit;Brassfield;6, 13;normal;push;no_block;no_follow",
            "    move_unit;Emberson;6, 12;normal;push;no_block;no_follow",
            "    move_unit;Temp_7;4, 11;normal;push;no_block;no_follow",
            "    move_unit;Temp_8;5, 12;normal;push;no_follow",
            "    wait;500",
            "    multi_add_portrait;Brassfield;Left;Emberson;Right",
            "    # Brief convo btween Ch 2 and Ch 3 bosses",
            "    speak;Emberson;[Filler]",
            "    speak;Brassfield;[Filler]",
            "    multi_remove_portrait;Brassfield;Emberson",
            "    transition;close;500",
            "    remove_all_units",
            "    end_skip",
            "    # Residential District",
            "    change_tilemap;Ch1",
            "    add_weather;sunset",
            "    move_cursor;10, 0;immediate",
            "    transition;open;500",
            "    add_unit;Temp_9;6, 0;fade;push;west",
            "    add_unit;Ackerman;7, 0;fade;push;west",
            "    add_unit;Temp_11;8, 0;fade;push;west",
            "    add_unit;Temp_12;9, 0;fade;push;west",
            "    move_unit;Temp_9;6, 2;normal;push;no_block;no_follow",
            "    move_unit;Ackerman;8, 2;normal;push;no_block;no_follow",
            "    move_unit;Temp_11;7, 3;normal;push;no_block;no_follow",
            "    move_unit;Temp_12;9, 3;normal;push;no_follow",
            "    wait;500",
            "    multi_add_portrait;Ackerman;Right;SoldierRed;Left",
            "    # Ch 1 boss talks to his mooks, ransack n whatnot",
            "    speak;Ackerman;[filler]",
            "    speak;SoldierRed;[filler]",
            "    multi_remove_portrait;Ackerman;SoldierRed",
            "    wait;250",
            "    move_unit;Ackerman;13, 11;normal;push;no_block;no_follow",
            "    move_unit;Temp_11;10, 10;normal;push;no_block;no_follow",
            "    move_unit;Temp_12;16, 5;normal;push;no_block;no_follow",
            "    move_unit;Temp_9;2, 1;normal;push",
            "    wait;250",
            "    flicker_cursor;2, 1",
            "    remove_unit;Temp_9;immediate",
            "    wait;250",
            "    transition;close;500",
            "    remove_all_units",
            "    end_skip",
            "    # School",
            "    change_tilemap;School",
            "    add_weather;sunset",
            "    show_layer;Mid",
            "    add_unit;Elwynn;10, 1;immediate",
            "    add_unit;Alpin;11, 3;immediate",
            "    add_unit;Carlin;12, 4;immediate",
            "    add_unit;Shayla;10, 4;immediate",
            "    add_unit;Raelin;9, 3;immediate",
            "    add_unit;Kid_5;8, 4;immediate",
            "    transition;open;500",
            "    multi_add_portrait;Elwynn;Right;Alpin;FarLeft;Carlin;MidLeft",
            "    # Back at the school we're finally at combat training so the kids have their weapons",
            "    # Enemy soldier shows up and murders the dumb kid named [whatever] who forgot to bring his weapon",
            "    # The 4 remaining students and their teacher leave the school and see their town is being raided",
            "    speak;Elwynn;Filler.",
            "    multi_remove_portrait;Elwynn;Alpin;Carlin",
            "    add_unit;Temp_9;7, 9;fade;push;south",
            "    move_unit;Temp_9;7, 4;normal;push;120",
            "    interact_unit;Temp_9;Kid_5;crit1,end;Junk;force_no_animation",
            "    add_portrait;SoldierRed;Left",
            "    speak;SoldierRed;FILLER!",
            "    remove_portrait;SoldierRed",
            "    wait;250",
            "    move_unit;Alpin;8, 4;normal;push;60",
            "    interact_unit;Alpin;Temp_9;crit1,end;force_no_animation",
            "    add_portrait;Alpin;Right",
            "    speak;Alpin;FILLER!?!?!",
            "    remove_portrait;Alpin",
            "    wait;250",
            "    move_unit;Alpin;7, 9;normal;stack;no_block",
            "    move_unit;Carlin;7, 9;normal;stack;no_block",
            "    move_unit;Shayla;7, 9;normal;stack;no_block",
            "    move_unit;Raelin;7, 9;normal;stack;no_block",
            "    move_unit;Elwynn;7, 9;normal;stack",
            "    remove_unit;Alpin;fade;south",
            "    remove_unit;Carlin;fade;south",
            "    remove_unit;Shayla;fade;south",
            "    remove_unit;Raelin;fade;south",
            "    remove_unit;Elwynn;fade;south",
            "    transition;close;250",
            "    remove_all_units",
            "    end_skip",
            "    # School",
            "    change_tilemap;Ch1",
            "    add_weather;sunset",
            "    add_group;Enemy1;Enemy1;immediate",
            "    # Add enemies",
            "    transition;open;250",
            "    add_unit;Elwynn;2, 1;fade;stack;north",
            "    add_unit;Alpin;2, 1;fade;stack;north",
            "    add_unit;Carlin;2, 1;fade;stack;north",
            "    add_unit;Shayla;2, 1;fade;stack;north",
            "    add_unit;Raelin;2, 1;fade;stack;north",
            "    sound;Unlock",
            "    show_layer;TopLeft",
            "    move_unit;Alpin;3, 3;normal;push;no_block",
            "    move_unit;Carlin;1, 3;normal;push;no_block",
            "    move_unit;Shayla;2, 4;normal;push;no_block",
            "    move_unit;Raelin;4, 2;normal;push;no_block",
            "    move_unit;Elwynn;2, 2;normal;push",
            "    add_portrait;Alpin;Left",
            "    # Hero Time :Sunglasses:",
            "    # And by that I mean the gang needs to GTFO.",
            "    # Shayla, Carlin, and Raelin mention they live close to the school.",
            "    speak;Alpin;Filler!",
            "    remove_portrait;Alpin",
            "    change_team;Alpin;player",
            "    change_team;Carlin;player",
            "    change_team;Shayla;player",
            "    change_team;Raelin;player",
            "    change_team;Elwynn;player",
            "end",
            "add_region;House1;5, 8;1, 1;event;Visit;only_once",
            "add_region;House2;9, 8;1, 1;event;Visit;only_once",
            "add_region;House3;14, 4;1, 1;event;Visit;only_once",
            "add_region;Escape;13, 11;4, 1;event;Escape",
            "add_region;Formation1;3, 3;1,1;formation",
            "add_region;Formation2;1, 3;1,1;formation",
            "add_region;Formation3;2, 4;1,1;formation",
            "add_region;Formation4;4, 2;1,1;formation",
            "add_region;Formation5;2, 2;1,1;formation",
            "if;game.mode.nid != 'Lunatic'",
            "    game_var;_convoy;True",
            "end",
            "game_var;_supports;True",
            "change_ai;Ackerman;AttackNoMove",
            "give_item;Ackerman;AngelFeather;no_banner;droppable",
            "",
            "game_var;AckermanDead;0",
            "game_var;YouSupported;0",
            "game_var;TunnelVision;0",
            "game_var;InstructionsUnclear;0",
            "game_var;NoDeaths;0",
            "game_var;LieutenantInChapter;0",
            "game_var;LieutenantInEndgame;0",
            "",
            "add_lore;WeaponTriangle",
            "add_lore;Stats",
            "add_lore;Equations",
            "add_lore;WeaponRanks",
            "add_lore;BuildingSupports",
            "add_lore;SupportBonuses",
            "set_custom_options;Codex;true;Open the Codex;Menu_Codex",
            "",
            "if;game.mode.nid != 'Normal'",
            "    change_objective_win;Escape With All,Within 8 Turns",
            "    change_objective_simple;Escape With All,Turns Left {eval:9-game.turncount}",
            "    change_stats;Ackerman;STR,1,SKL,1,DEF,1,RES,1;immediate",
            "end",
            "if;'{v:EnemyReverse}' == 'Reversal'",
            "    trigger_script;Global GenericsWR",
            "elif;'{v:EnemyReverse}' == 'Double'",
            "    trigger_script;Global GenericsDR",
            "end",
            "",
            "if;'{v:ReverseRecruitment}' == 'Yes'",
            "    show_layer;BotLeftRR;immediate",
            "    show_layer;BotRightRR;immediate",
            "    show_layer;TopRightRR;immediate",
            "end",
            "",
            "trigger_script;Global GenericsAutoLevel",
            "prep;1;Before An Impossible Battlefield"
        ]
    }
]