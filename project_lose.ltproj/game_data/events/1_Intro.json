[
    {
        "name": "Intro",
        "trigger": "level_start",
        "level_nid": "1",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "give_skill;Leod;NPCVision;no_banner",
            "give_skill;Garvey;NPCVision;no_banner",
            "give_skill;Lamonte;NPCVision;no_banner",
            "game_var;LeodDead;0",
            "game_var;BrassfieldDead;0",
            "level_var;DeadPlayers;0",
            "level_var;QuinleySkill;0",
            "level_var;SaraidSkill;0",
            "level_var;RoutEnemies;1",
            "# Market / Pier",
            "change_tilemap;Ch4",
            "add_weather;sunset",
            "move_cursor;21, 3;immediate",
            "add_unit;DeadVillager_1;12, 3;immediate",
            "add_unit;DeadVillager_2;14, 5;immediate",
            "add_unit;DeadVillager_3;15, 4;immediate",
            "add_unit;Cutscene_1;14, 4;immediate",
            "add_unit;Cutscene_2;13, 5;immediate",
            "music;Hulking Step of the Empire",
            "transition;open;500",
            "add_unit;Leod;21, 3;immediate;push",
            "add_unit;Lamonte;21, 4;immediate;push",
            "add_unit;Garvey;21, 3;immediate;push",
            "move_unit;Leod;18, 3;normal;no_block",
            "move_unit;Lamonte;18, 4;normal;no_block",
            "move_unit;Garvey;19, 3;normal;push",
            "multi_add_portrait;Leod;Left;Lamonte;MidRight;Garvey;FarRight",
            "# Leod, Lamonte and Garvey are walking around at the beginning of the invasion and stumble upon dead villagers",
            "speak;Leod;filler",
            "multi_remove_portrait;Leod;Lamonte;Garvey",
            "move_unit;Cutscene_1;17, 4;normal;push;60;no_block;no_follow",
            "move_unit;Cutscene_2;16, 3;normal;push;60;no_follow",
            "wait;250",
            "add_portrait;SoldierRed;Left",
            "# Soldiers show up and say soldier things, attacks and gets rekt by Garvey",
            "speak;SoldierRed;For the empire!",
            "remove_portrait;SoldierRed",
            "interact_unit;Cutscene_1;Lamonte;miss1,end;Iron Lance;force_no_animation",
            "move_unit;Leod;18, 4;normal;stack;no_block",
            "move_unit;Garvey;18, 3;normal;stack",
            "add_portrait;Garvey;Right",
            "speak;Garvey;Get down!",
            "remove_portrait;Garvey",
            "move_unit;Leod;19, 3;normal;stack",
            "interact_unit;Garvey;Cutscene_1;crit1;Steel Bow;force_no_animation",
            "kill_unit;Cutscene_1",
            "wait;250",
            "add_portrait;Leod;Left",
            "# Leod runs off like the coward he is",
            "speak;Leod;Ahh!",
            "remove_portrait;Leod",
            "move_unit;Leod;21, 3;normal;push;60",
            "remove_unit;Leod;fade;east",
            "wait;250",
            "move_unit;Lamonte;17, 3",
            "interact_unit;Lamonte;Cutscene_2;crit1;Steel Lance;force_no_animation",
            "kill_unit;Cutscene_2",
            "wait;250",
            "multi_add_portrait;Garvey;Right;Lamonte;Left",
            "# After killing the other soldier the two guards talk about Leod running off and go look for him",
            "speak;Garvey;The fool's run off!",
            "speak;Lamonte;We have to find him!",
            "multi_remove_portrait;Garvey;Lamonte",
            "wait;250",
            "move_unit;Lamonte;21, 4;normal;push;no_block",
            "move_unit;Garvey;21, 3;normal;push",
            "remove_unit;Garvey;fade;east",
            "remove_unit;Lamonte;fade;east",
            "transition;close",
            "remove_all_units",
            "# Alleyway",
            "change_tilemap;Alleyway",
            "add_weather;night",
            "set_fog_of_war;gba;3",
            "enable_fog_of_war;1",
            "add_region;Alleyway1_1;5, 3;1, 1;vision;2",
            "add_region;Alleyway1_2;10, 2;1, 1;vision;2",
            "add_region;Alleyway1_3;14, 4;1, 1;vision;2",
            "add_region;Alleyway1_4;2, 9;1, 1;vision;2",
            "add_region;Alleyway1_5;6, 9;1, 1;vision;2",
            "add_region;Alleyway1_6;10, 9;1, 1;vision;2",
            "add_region;Alleyway1_7;13, 9;1, 1;vision;2",
            "music;Pandemonium",
            "transition;open;500",
            "location_card;Later...",
            "add_unit;Leod;7, 9;fade;push;south",
            "wait;500",
            "add_portrait;Leod;Left",
            "# Night time. Scared and alone, Leod finds himself in the alleyway from earlier.",
            "speak;Leod;filler",
            "remove_portrait;Leod",
            "wait;250",
            "move_unit;Leod;0, 5;normal;no_block",
            "add_unit;Garvey;7, 9;fade;push;south",
            "wait;250",
            "add_portrait;Garvey;Left",
            "speak;Garvey;filler",
            "remove_portrait;Garvey",
            "move_unit;Garvey;2, 4;normal;push",
            "wait;250",
            "add_unit;Lamonte;7, 9;fade;push;south",
            "wait;500",
            "# Garvey runs in the direction of Leod",
            "speak;;LEOD!;top_left;50",
            "speak;;AH!;top_left;50",
            "flicker_cursor;1, 4",
            "sound;Attack Hit 1",
            "show_layer;Crates",
            "flicker_cursor;1, 4",
            "flicker_cursor;2, 5",
            "flicker_cursor;1, 6",
            "remove_unit;Leod;fade;west",
            "move_unit;Garvey;8, 9;normal;push",
            "wait;250",
            "multi_add_portrait;Lamonte;Left;Garvey;Right",
            "# Garvey goesback to Lamonte telling him Leod knocked over the crates and they'll have to go around",
            "speak;Garvey;filler",
            "multi_remove_portrait;Lamonte;Garvey",
            "remove_unit;Lamonte;fade;south",
            "remove_unit;Garvey;fade;south",
            "wait;500",
            "transition;close;500",
            "change_tilemap;Ch2",
            "# Plaza",
            "add_weather;night",
            "set_fog_of_war;gba;3",
            "enable_fog_of_war;1",
            "add_region;House1;3, 15;1;event;Visit;only_once",
            "add_region;House2;17, 14;1;event;Visit;only_once",
            "add_region;VisionTopLeft;14, 2;1, 1;vision;2",
            "add_region;VisionTopRight;18, 2;1, 1;vision;2",
            "add_region;VisionBotLeft;3, 15;1, 1;vision;2",
            "add_region;VisionBotMid;11, 12;1, 1;vision;3",
            "add_region;VisionBotRight;17, 14;1, 1;vision;2",
            "add_region;Form1;4, 0;1;formation",
            "add_region;Form2;6, 0;1;formation",
            "add_region;Form3;5, 1;1;formation",
            "add_region;Form4;7, 1;1;formation",
            "add_region;Form5;4, 2;1;formation",
            "add_region;Form6;6, 2;1;formation",
            "show_layer;Boxes",
            "move_cursor;19, 10",
            "transition;open;250",
            "add_unit;Leod;19, 10;fade;push;east",
            "wait;250",
            "move_unit;Leod;11, 13;normal;push",
            "add_portrait;Leod;Right",
            "# Leod finds himself in the plaza and heads to the church. Door's locked.",
            "# He hears footsteps and surrounds himself in crates.",
            "speak;Leod;filler",
            "remove_portrait;Leod",
            "transition;close",
            "hide_layer;Boxes",
            "add_unit;Barrel_1;10, 13;immediate",
            "add_unit;Barrel_3;11, 14;immediate",
            "add_unit;Barrel_5;12, 13;immediate",
            "move_cursor;3, 0;immediate",
            "transition;open;500",
            "location_card;Moments later...",
            "wait;500",
            "add_unit;Alpin;4, 0;fade;stack;north",
            "add_unit;Carlin;4, 0;fade;stack;north",
            "add_unit;Raelin;5, 0;fade;stack;north",
            "add_unit;Shayla;6, 0;fade;stack;north",
            "add_unit;Elwynn;6, 0;fade;push;north",
            "move_unit;Alpin;4, 2;normal;push;no_block",
            "move_unit;Shayla;6, 2;normal;push;no_block",
            "move_unit;Raelin;5, 1;normal;push",
            "wait;500",
            "multi_add_portrait;Alpin;FarLeft;Carlin;MidLeft;Shayla;MidRight;Raelin;FarRight",
            "speak;Alpin;Guys!",
            "multi_remove_portrait;Alpin;Carlin;Raelin;Shayla",
            "move_cursor;19, 2",
            "# Recruitment",
            "sound;Unlock",
            "show_layer;TopRight",
            "end_skip",
            "wait;250",
            "add_unit;Quinley;18, 2;immediate",
            "wait;250",
            "sound;Unlock",
            "show_layer;TopLeft",
            "wait;250",
            "add_unit;Saraid;14, 2;immediate",
            "wait;250",
            "move_unit;Quinley;18, 3;normal;no_block",
            "move_unit;Saraid;14, 3;normal",
            "sound;Unlock",
            "hide_layer;TopLeft",
            "wait;250",
            "sound;Unlock",
            "hide_layer;TopRight",
            "wait;250",
            "move_unit;Saraid;7, 1;normal;push;no_block",
            "move_unit;Quinley;7, 3;normal;push",
            "wait;250",
            "change_team;Quinley;player",
            "change_team;Saraid;player",
            "wait;250",
            "multi_add_portrait;Quinley;FarRight;Saraid;MidRight;Elwynn;FarLeft;Raelin;MidLeft",
            "# Saraid and Quinley join the team",
            "speak;Raelin;Hi!",
            "multi_remove_portrait;Quinley;Saraid;Elwynn;Raelin",
            "spawn_group;Enemy1;west;0, 5;normal;stack",
            "move_group;Enemy1;Enemy1Placement",
            "add_group;Stationary;Stationary;immediate",
            "remove_unit;Quinley",
            "remove_skill;Leod;NPCVision;no_banner",
            "remove_skill;Garvey;NPCVision;no_banner",
            "remove_skill;Lamonte;NPCVision;no_banner",
            "inc_level_var;RoutEnemies;-1",
            "change_ai;Brassfield;None",
            "prep;1;Before An Impossible Battlefield"
        ]
    }
]