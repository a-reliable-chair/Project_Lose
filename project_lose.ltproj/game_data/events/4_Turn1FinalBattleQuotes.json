[
    {
        "name": "Turn1FinalBattleQuotes",
        "trigger": "phase_change",
        "level_nid": "4",
        "condition": "game.turncount == 1",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "#Final battle quotes!",
            "music;At Hope's End",
            "if;u('Corridon').position",
            "    flicker_cursor;Corridon",
            "    add_portrait;Corridon;Right",
            "    s;Corridon;What a mess this is...{w} Let's go down fighting, at the very least!",
            "    remove_portrait;Corridon",
            "end",
            "if;u('Orla').position",
            "    flicker_cursor;Orla",
            "    add_portrait;Orla;Right",
            "    s;Orla;Can't say I wanted to die tonight, but if I have to...{w}{clear}Can't see a better way to do it than with an axe in my hand, eh?",
            "    remove_portrait;Orla",
            "end",
            "if;u('Ailsa').position",
            "    flicker_cursor;Ailsa",
            "    add_portrait;Ailsa;Right",
            "    s;Ailsa;...{w} So much for keeping Raelin safe.{w} Some auntie I am...{w} hah.{w}{clear}Oh well.{w} Just gonna have to try to make up for it at the finish line.{w}{clear}One last shot{seicolon}{w} let's make it count!",
            "    remove_portrait;Ailsa",
            "end",
            "if;u('Garvey').position",
            "    flicker_cursor;Garvey",
            "    add_portrait;Garvey;Right",
            "    s;Garvey;Shoulda just cut and run while I had the chance.{w} Too late now...{w}{clear}I'm in this for the long haul.{w}{clear}Longest haul there is...{w}{clear}Guess I'll be joining those two bastards sooner than I thought.",
            "    remove_portrait;Garvey",
            "end",
            "if;u('Lamonte').position",
            "    flicker_cursor;Lamonte",
            "    add_portrait;Lamonte;Right",
            "    s;Lamonte;...{w} I guess, if there's a silver lining in all this, it's that...{w} well...{w} the lives we lost on the way here weren't really wasted,{w} They just...{w} died sooner.{w} Yeah...{w}{clear}Save a spot at the bar for me, will ya, Garv?{w} I'll be up soon.",
            "    remove_portrait;Lamonte",
            "end",
            "if;u('Saraid').position",
            "    flicker_cursor;Saraid",
            "    add_portrait;Saraid;Right",
            "    s;Saraid;...{w} I just wanted a simple life.{w}{clear}A bow, a forest full of prey, good friends to share my catch with.{w}{clear}Guess this is the last thing we'll ever share together...{w} Damn it.{w}{clear}Let's make it a night to remember.",
            "    remove_portrait;Saraid",
            "end",
            "if;u('Quinley').position",
            "    flicker_cursor;Quinley",
            "    add_portrait;Quinley;Right",
            "    s;Quinley;...{w} Crap.{w} We're all gonna die, huh?{w}{clear}Well...{w} Guess I'll just do all I can.{w} Maybe work a little miracle!{w}{clear}Or, if not...{w} some payback.{w} Yeah.{w} Payback's enough for me, I think.",
            "    remove_portrait;Quinley",
            "end",
            "if;u('Davenport').position and game.get_unit('Davenport').team == 'player'",
            "    flicker_cursor;Davenport",
            "    add_portrait;Osgar;Right",
            "    s;Osgar;What a cruel joke this life is.{w}{clear}Given a second chance at life, this is the fate I'm faced with.{w}{clear}...{w} Bah.{w} I will fulfill my promise to Mistress Quinley.{w} I have to.",
            "    remove_portrait;Osgar",
            "end",
            "if;u('Raelin').position",
            "    flicker_cursor;Raelin",
            "    add_portrait;Raelin;Right",
            "    s;Raelin;I'm going to die, aren't I?{w}{clear}A-after everything I fought for, all that fighting and killing...{w}{clear}I'm just...{w} going to die anyway.{w}{clear}...{w} Fine.{w} One more fight.{w} What's one more fight before the end...?",
            "    remove_portrait;Raelin",
            "    inc_level_var;TraineeDeployed;1",
            "end",
            "if;u('Shayla').position",
            "    flicker_cursor;Shayla",
            "    add_portrait;Shayla;Right",
            "    s;Shayla;...{w} One swing per friend I've lost.{w} That'll be the deal, before I die.{w}{clear}One swing, one kill, one more bit of payback before they can have me.{w}{clear}Please, let me have that much...",
            "    remove_portrait;Shayla",
            "    inc_level_var;TraineeDeployed;1",
            "end",
            "if;u('Carlin').position",
            "    flicker_cursor;Carlin",
            "    add_portrait;Carlin;Right",
            "    s;Carlin;Gramps...{w} This one's for you.",
            "    remove_portrait;Carlin",
            "    inc_level_var;TraineeDeployed;1",
            "end",
            "if;u('Elwynn').position",
            "    flicker_cursor;Elwynn",
            "    add_portrait;Elwynn;Right",
            "    s;Elwynn;I tried.{w} I really did try this time.{w}{clear}I swear to you, O Goddess, I did everything I could to help keep these kids alive.{w}{clear}So why...?{w} Why did I fail again?{w} Why does nothing I do ever turn out right?{w}{clear}Was there...{w} even any point at all?{w}{clear}...{w} No.{w} The trying was the point, wasn't it? To try and fail...{w}{clear}Surely, that's better than to just never try at all.{w} Right...?",
            "    remove_portrait;Elwynn",
            "end",
            "if;u('Elspeth').position",
            "    flicker_cursor;Elspeth",
            "    add_portrait;Elspeth;Right",
            "    s;Elspeth;...{w} I'm done being scared.{w} Done running, done fearing failure.{w}{clear}I refuse to face the end like that.{w}{clear}Come, hounds of the empire{semicolon}{w} you can have my life, but my pride is mine!",
            "    remove_portrait;Elspeth",
            "end",
            "if;u('Alpin').position and u('Laisren').position",
            "    flicker_cursor;Alpin",
            "    multi_add_portrait;Alpin;Right;Laisren;Left",
            "    s;Alpin;Laisren, is this really the end?{w} There's really nothing we can do?",
            "    s;Laisren;Nothing?{w} I wouldn't say that.{w} We always have a choice, don't we?{w}{clear}I choose to stand, fight, and die at your side.{w} What do you choose?",
            "    s;Alpin;...{w} I think...{w} I choose the same thing.{w} As long as you're here...{w}{clear}I can keep fighting.{w} After all, it's just a little longer now.",
            "    s;Laisren;Yes...{w} Yes, Alpin.{w} Just a little longer now.{w} Just precious minutes.",
            "    s;Alpin;You're crying...",
            "    s;Laisren;Am I?{w} I just...{w} I-I mean, I...{w}{clear}I-I'm sorry I couldn't save you.{w} This...{w} this is the best I can do.",
            "    s;Alpin;...{w} Mm.{w} I forgive you.{w} Your turn.",
            "    s;Laisren;Heh.{w} No reason to forgive myself.{w} The Goddess can decide that for me.{w}{clear}You ready?",
            "    s;Alpin;No.",
            "    s;Laisren;Me neither.{w} Show me that swordplay you've been working on, alright?{w}{clear}I've been dying to see it.",
            "    s;Alpin;Y-yeah!{w} You'll like what you see!{w}{clear}I trained so hard for you, a-and... to keep everybody safe.",
            "    multi_remove_portrait;Alpin;Laisren",
            "    inc_level_var;TraineeDeployed;1",
            "            inc_level_var;GotohDeployed;1",
            "end",
            "if;u('Laisren').position and not u('Alpin').position",
            "    flicker_cursor;Laisren",
            "    add_portrait;Laisren;Right",
            "    s;Laisren;...{w} I did all I could.{w} Now, all that's left is to face the music.{w}{clear}Mom, Dad...{w} Alpin...{w} I'm sorry.{w}{clear}This is the best I can do.{w} I...{w} hope you'll forgive me.",
            "    remove_portrait;Laisren",
            "    if;'{v:ReverseRecruitment}' == 'No'",
            "        inc_level_var;GotohDeployed;1",
            "    end",
            "end",
            "if;u('Alpin').position and not u('Laisren').position",
            "    add_portrait;Alpin;Right",
            "    if;{v:AlpinVisited} == 1 and '{v:ReverseRecruitment}' == 'No'",
            "        music;Betimed Blossoming",
            "        s;Alpin;... I can't do this alone.{w} I don't want to die.{w} I just...{w} I don't!{w}{clear}But...{w} the only way to survive this would be to fight out of my mind.{w}{clear}To fight like ten men.{w} It's dumb.{w} I'm just some kid.{w} Just Alpin...{w}{clear}How could I ever pull something like that off?{w} It's hopeless...{w}{clear}But...{w} if Laisren heard me talking like this, he'd be so mad at me.{w}{clear}I guess...{w} he's one of the best knights in all the land, right?{w}{clear}And I trained with him...{w} I'm his brother...{w} I'm his damn brother!{w}{clear}I can't just...{w} give up!{w} I have to show the empire what I'm made of!{w}{clear}Yeah...{w} Yeah! Watch me, Laisren!{w} I'll use everything you taught me!",
            "        if;'{v:PlayerReverse}' == 'No Reversal'",
            "            remove_skill;Alpin;Flail_Lance",
            "        elif;'{v:PlayerReverse}' == 'Reversal'",
            "            remove_skill;Alpin;Flail_Axe",
            "        elif;'{v:PlayerReverse}' == 'Double'",
            "            remove_skill;Alpin;Flail_Sword",
            "        end",
            "        give_skill;Alpin;Lionheart",
            "        inc_game_var;AlpinUpgraded;1",
            "    else;",
            "        s;Alpin;...{w} I don't want to believe that it\twas all for nothing. Our fight...|it has to have had a purpose.{w}{clear}Otherwise...{w} what have I been doing\tall this time?{w} What was the point?{w}{clear}All my training...{w} is this where\tit was always leading?{w} A dead end?{w}{clear}\t...{w} I'll keep fighting anyway.{w} For\tLaisren, and my parents...{w} and me.",
            "    end",
            "    remove_portrait;Alpin",
            "    inc_level_var;TraineeDeployed;1",
            "    if;'{v:ReverseRecruitment}' == 'Yes'",
            "        inc_level_var;GotohDeployed;1",
            "    end",
            "end",
            "",
            ""
        ]
    }
]