[
    {
        "name": "SkillQuinley",
        "trigger": "unit_death",
        "level_nid": null,
        "condition": "unit.team == 'enemy' and unit2.nid == 'Quinley'",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "if;{v:QuinleySkill} == 0",
            "remove_unit;{unit}",
            "resurrect;{unit}",
            "change_team;{unit};player",
            "recruit_generic;{unit};Thrall;Thrall",
            "change_faction;Thrall;Thrall;FLAG(no_warn)",
            "change_portrait;Thrall;Thrall",
            "for;Current_Skill;[u.nid for u in u('Thrall').skills]",
            "remove_skill;Thrall;{Current_Skill};no_banner",
            "endf",
            "give_skill;Thrall;Thrall;no_banner",
            "give_skill;Thrall;Flying;no_banner",
            "add_unit;{unit};Quinley;warp;closest",
            "inc_level_var;QuinleySkill;1",
            "wait;200",
            "end"
        ]
    }
]