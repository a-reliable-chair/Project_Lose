[
    {
        "name": "Survive",
        "trigger": "turn_change",
        "level_nid": "2",
        "condition": "True",
        "commands": [],
        "only_once": false,
        "priority": 20,
        "_source": [
            "if;(game.turncount == 8 and game.mode.nid != 'Normal') or (game.turncount == 9 and game.mode.nid == 'Normal')",
            "    if;game.check_alive('Emberson')",
            "        move_cursor;Emberson",
            "        flicker_cursor;Emberson",
            "        change_background;Castle1",
            "        add_portrait;Emberson;Left",
            "        s;Emberson;S-stubborn rodents, these are...{w} If this keeps up...{w} Bah!{w}{clear}Everyone, fall back!|I'm not dying here, not like this!",
            "        remove_portrait;Emberson",
            "    end",
            "    if;game.check_dead('Emberson')",
            "        change_background;Castle1",
            "        multi_add_portrait;SoldierRed;Left;SoldierBlue;Right",
            "        s;SoldierRed;Emberson's dead, and these guys just keep on fighting!{w}{clear}I'm getting out of here!",
            "        s;SoldierBlue;M-me too!{w} I'm not dying in that crazy fool's flames!",
            "        multi_remove_portrait;SoldierRed;SoldierBlue",
            "        if;'{v:ReverseRecruitment}' == 'Yes'",
            "            add_portrait;Laisren;OffscreenLeft",
            "            wait;250",
            "            move_portrait;Laisren;Left",
            "            s;Laisren;They're running!|Now's our chance!|Let's get out of here!",
            "            move_portrait;Laisren;OffscreenRight",
            "            add_portrait;Elspeth;OffscreenLeft",
            "            wait;250",
            "            move_portrait;Elspeth;Left",
            "            s;Elspeth;What Laisren said -{w} everyone, make a break for it!",
            "            move_portrait;Elspeth;OffscreenRight",
            "        else",
            "            add_portrait;Alpin;OffscreenLeft",
            "            wait;250",
            "            move_portrait;Alpin;Left",
            "            s;Alpin;They're running!|Now's our chance!|Let's get out of here!",
            "            move_portrait;Alpin;OffscreenRight",
            "            add_portrait;Elwynn;OffscreenLeft",
            "            wait;250",
            "            move_portrait;Elwynn;Left",
            "            s;Elwynn;What the boy said -{w} everyone, make a break for it!",
            "            move_portrait;Elwynn;OffscreenRight",
            "        end",
            "        transition;close",
            "        change_background",
            "    end",
            "    win_game",
            "end"
        ]
    }
]