[
    {
        "name": "House2",
        "trigger": "<yellow>Visit</yellow>",
        "level_nid": "4",
        "condition": "region.nid == 'House2'",
        "commands": [],
        "only_once": true,
        "priority": 20,
        "_source": [
            "if;'{v:ReverseRecruitment}' == 'Yes' and unit.nid == 'Raelin'",
            "    trigger_script;Global HouseRaelin",
            "elif;'{v:ReverseRecruitment}' == 'Yes' and unit.nid == 'Elwynn'",
            "    trigger_script;Global HouseElwynn2",
            "end",
            "if;'{v:ReverseRecruitment}' == 'No' and unit.nid == 'Ailsa'",
            "    trigger_script;Global HouseAilsa",
            "elif;'{v:ReverseRecruitment}' == 'No' and unit.nid == 'Elspeth'",
            "    trigger_script;Global HouseElspeth1",
            "elif;unit.nid == 'Thrall'",
            "    trigger_script;Global HouseThrall",
            "else",
            "    transition;Close",
            "    change_background;House",
            "    transition;Open",
            "    add_portrait;{unit};Right",
            "    s;{unit};Fishnets everywhere...{w} Ailsa's place, for sure.{w} I wonder...{w}{clear}She and Elspeth are close, aren't they?{w} In that case,|I'm sure she won't mind if we take this, right...?",
            "    transition;Close",
            "    remove_portrait;{unit}",
            "    change_background",
            "    transition;Open",
            "    give_item;{unit};SPDBooster",
            "    give_exp;{unit};10",
            "    inc_game_var;InstructionsUnclear;1",
            "end",
            "sound;Unlock",
            "show_layer;Right",
            "has_traded;{unit}",
            "inc_game_var;AilsaHouse;1",
            "if;not has_achievement('38') and {v:InstructionsUnclear} == 10",
            "    update_achievement;38;Instructions Unclear;Got generic visit dialogue for every house",
            "    complete_achievement;38;1;banner",
            "end"
        ]
    }
]